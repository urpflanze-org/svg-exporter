/*! For license information please see urpflanze-svg-exporter.min.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.SVGExporter=t():e.SVGExporter=t()}(window,(function(){return(()=>{"use strict";var e={70:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SVGExporter=void 0;const n=r(688);class o{static parse(e,t={}){const r={...o.defaults,...t};return o.generate(e,r)}static getSVGProp(e,t,r){let n=t.shape.drawer[e];return"function"==typeof n&&(n=n(t)),null!=n?n:r}static bindColorAttribute(e,t,r,o){if(void 0!==t)if("none"===t)r.push(`${e}="none"`);else{const i=n.parseColorAndConvert(t);i&&(1!==i.alpha&&o.push(`${e}-opacity: ${i.alpha}`),r.push(`${e}="${n.rgbToHex(i.r,i.g,i.b)}"`))}}static generate(e,t){const r=o.generatePaths(e,t);let n;if(t.background){const t=[],r=[];o.bindColorAttribute("fill",e.background,t,r),r.length>0&&t.push(`styles="${r.join("; ")}"`),n=`<rect width="${e.width}" height="${e.height}" ${t.length?t.join(" ")+" ":""}/>`}return`<svg viewBox="0 0 ${e.width} ${e.height}">\n\t\x3c!-- Create with Urpflanze <https://docs.urpflanze.org> --\x3e`+(n?`\n\t${n}`:"")+`\n\t${r.join("\n\t")}\n</svg>`}static generatePaths(e,t){const r=[],n=e.getChildren();for(let i=0,s=n.length;i<s;i++){n[i].generate(0,!0);const s=n[i].getBuffer()||[],a=n[i].getIndexedBuffer()||[];let l=0;for(let n=0,i=a.length;n<i;n++){const i=a[n],c=[];for(let e=l+i.frameLength;l<e;l+=2)c.push(s[l].toFixed(t.decimals)+" "+s[l+1].toFixed(t.decimals));const p={shape:i.shape,repetition:i.repetition,parent:i.parent},u=[],d=[],f=o.getSVGProp("fill",p);o.bindColorAttribute("fill",f||"none",u,d);const h=o.getSVGProp("stroke",p,void 0===f?e.color:void 0);o.bindColorAttribute("stroke",h,u,d);const b=o.getSVGProp("lineWidth",p,1);h&&u.push(`stroke-width="${b||1}"`),d.length>0&&u.push(`style="${d.join("; ")}"`);const g=`<path d="M${c.join(" L")} ${i.shape.isClosed()?"Z":""}" ${u.length?u.join(" ")+" ":""}/>`;r.push(g)}}return r}}t.SVGExporter=o,o.defaults={decimals:3,background:!0}},915:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(291),t),o(r(70),t)},291:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},725:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.rgbToHsl=t.hslToRgb=t.rgbToHex=void 0,t.rgbToHex=function(e,t,r){return`#${((1<<24)+(e<<16)+(t<<8)+r).toString(16).slice(1)}`},t.hslToRgb=function(e,t,r){let n,o,i;if(e/=360,r/=100,0==(t/=100))n=o=i=r;else{const s=(e,t,r)=>(r+=r<0?1:r>1?-1:0)<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e,a=r<.5?r*(1+t):r+t-r*t,l=2*r-a;n=s(l,a,e+1/3),o=s(l,a,e),i=s(l,a,e-1/3)}return[.5+255*n<<0,.5+255*o<<0,.5+255*i<<0]},t.rgbToHsl=function(e,t,r){e/=255,t/=255,r/=255;const n=Math.max(e,t,r),o=Math.min(e,t,r),i=(n+o)/2;let s,a;if(n===o)s=a=0;else{const l=n-o;switch(a=i>.5?l/(2-n-o):l/(n+o),n){case e:s=(t-r)/l+(t<r?6:0);break;case t:s=(r-e)/l+2;break;case r:s=(e-t)/l+4}s/=6}return[.5+360*s<<0,.5+100*a<<0,.5+100*i<<0]}},688:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(785),t),o(r(725),t),o(r(951),t)},951:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseColor=t.parseColorAndConvert=void 0;const n=r(725);function o(e){if("number"==typeof e)return e>16777215?{type:"rgb",a:e>>24&255,b:e>>16&255,c:e>>8&255,alpha:(255&e)/255}:{type:"rgb",a:e>>16&255,b:e>>8&255,c:255&e,alpha:1};e=e.replace(/\s/g,"");let t=/^#([0-9a-f]{3,8})$/i.exec(e);if(t){const e=t[1];return 3===e.length?{type:"rgb",a:parseInt(e[0]+e[0],16),b:parseInt(e[1]+e[1],16),c:parseInt(e[2]+e[2],16),alpha:1}:{type:"rgb",a:parseInt(e[0]+e[1],16),b:parseInt(e[2]+e[3],16),c:parseInt(e[4]+e[5],16),alpha:e.length>6?parseInt(e.substring(6),16)/255:1}}if(t=/^((hsl|rgb)a?)\((\d+),(\d+)%?,(\d+)%?,?(.+)?\)$/i.exec(e),t){const[,,e,r,n,o,i]=t;return{type:e,a:+r,b:+n,c:+o,alpha:i?+i:1}}}t.parseColorAndConvert=function(e){const t=o(e);if(t){if("hsl"===t.type){const[e,r,o]=n.hslToRgb(t.a,t.b,t.c);return{r:e,g:r,b:o,h:t.a,s:t.b,l:t.c,alpha:t.alpha}}{const[e,r,o]=n.rgbToHsl(t.a,t.b,t.c);return{h:e,s:r,l:o,r:t.a,g:t.b,b:t.c,alpha:t.alpha}}}},t.parseColor=o},785:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})}},t={};return function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}(915)})()}));